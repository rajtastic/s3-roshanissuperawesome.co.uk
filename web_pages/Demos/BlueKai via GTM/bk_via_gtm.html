
<html>
<head>

<!-- 
#############################
### Standard Header Stuff ###
#############################
-->

<meta name="robots" content="noindex, nofollow">
<link rel="stylesheet" type="text/css" href="/resources/themes/custom/css/style.css">
<link rel="icon" type="image/png" href="/resources/themes/bootstrap/img/folder.png">

<!-- 
######################
### Custom Scripts ###
######################
-->

<script type="text/javascript">
window.test_object = {'data':true};
</script>
<script type="text/javascript" src="/resources/themes/custom/js/roshan_library.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">

/*
##################
### Data Layer ###
##################
*/

 dataLayer = [{
 	  'clientName' : 'Demo',
      'pageCategory': 'Product Details',
      'productName': 'apples',
    }];

 dataLayer[0].pageName = (dataLayer[0].productName) ? dataLayer[0].pageCategory + " : " + dataLayer[0].productName : dataLayer[0].pageCategory + " : " + "no product"; 

// grab query-string
if(document.location.href.indexOf('?') > -1){
	dataLayer[0].query_string = document.location.href.split('?')[1];
}

// FUNCTION : Query-string grabber
function getParameterByName(name) {
	if (typeof queryString === "undefined") {
		queryString = document.location.search;
	}
	var start_char = queryString.toLowerCase().indexOf("?" + name.toLowerCase() + '=') + 1;
	if (start_char === 0) {
		start_char = queryString.toLowerCase().indexOf("&" + name.toLowerCase() + '=') + 1;
	}
	var parameter_length = name.length + 1;

	if (start_char !== 0) {
		var querystring_value = queryString.substring(start_char + parameter_length).split('&')[0];
	}
	if (querystring_value) {
		return querystring_value
	} else {
		return "";
	}
}

// grab useful vars from query-string
dataLayer[0].email_address = getParameterByName('email');
dataLayer[0].phone_number = getParameterByName('phone');
dataLayer[0].customer_id = getParameterByName('customer_id');
dataLayer[0].sdt_id = getParameterByName('sdt_id');


// Spit out data layer into console
for (varName in dataLayer[0]){
	console.log("DATA LAYER : " + varName + " = " + dataLayer[0][varName]);
}

/*
#######################
### Title Generator ###
#######################
*/


//Title generator
document.write("\x3Ctitle>",dataLayer[0].pageName,"\x3C/title>"); // Title generated here

</script>

</head>

<!-- 
############
### Body ###
############
-->

<body>

<!-- 
##########################
### Google Tag Manager ###
##########################

Google Tag Manager

-->

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N4DXP2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N4DXP2');</script>
<!-- End Google Tag Manager -->

<!-- 
##############################
### Page Details Generator ###
##############################
-->

<span id="Page_Details">
	<script type="text/javascript">

	// CODE TO GENERATE H1 AND TEXT : START
	document.write("<h1>",dataLayer[0].pageName,"</h1><br>"); // <H1> generated here
	document.write("<p>This is a page called ",dataLayer[0].pageName,"</p><br>"); // <p> generated here
	// CODE TO GENERATE H1 AND TEXT : END

	</script>
</span>

<!-- 
##################
### Some Stuff ###
##################
-->

<span id="Stuff">
	<a href="//www.google.co.uk" class="autotrack same_window">Google.co.uk (same window)</a><br><br>
	<a href="//www.google.co.uk" class="autotrack new_window" target="_blank">Google.co.uk (new window)</a>
</span>
<br><br>

<p>Auto Tracking Test in GTM</p>
<br>
 <a target="_Facebook" href="//www.facebook.com/quaker" class="social-icon facebookHeader" title="Connect with Quaker on Facebook">Facebook</a><br><br>
<a target="_Twitter" href="//twitter.com/Quaker" class="social-icon twitterHeader" title="Connect with Quaker on Twitter">Twitter</a><br><br>
<a target="_Google" href="https://www.pinterest.com/quaker/" class="social-icon googleHeader" title="Connect with Quaker on pinterest">Google</a><br><br>
<a target="_Youtube" href="//www.youtube.com/Quaker" class="social-icon youTubeHeader" style="margin-right: 0px;" title="Connect with Quaker on YouTube">Quaker</a><br><br>
</body>
</html>
